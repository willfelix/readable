{"ast":null,"code":"import * as api from '../utils/api';\nimport { getPosts } from '../actions/posts';\nimport { getComments } from '../actions/comments';\nimport { getCategories } from '../actions/categories';\nimport { setAuthedUser } from '../actions/authedUser';\nimport { showLoading, hideLoading } from 'react-redux-loading';\nvar AUTHED_ID = 'willfelix';\nexport function handleInitialData() {\n  return function (dispatch) {\n    dispatch(showLoading());\n    return api.init().then(function (_ref) {\n      var categories = _ref.categories,\n          posts = _ref.posts,\n          comments = _ref.comments;\n      dispatch(getCategories(categories));\n      dispatch(getPosts(posts));\n      dispatch(getComments(comments));\n      dispatch(setAuthedUser(AUTHED_ID));\n      dispatch(hideLoading());\n    });\n  };\n}","map":{"version":3,"sources":["/Users/willfelix/Documents/code/study/projects-udacity-nanodegree/readable/frontend/src/actions/shared.js"],"names":["api","getPosts","getComments","getCategories","setAuthedUser","showLoading","hideLoading","AUTHED_ID","handleInitialData","dispatch","init","then","categories","posts","comments"],"mappings":"AAAA,OAAO,KAAKA,GAAZ,MAAqB,cAArB;AAEA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,qBAAzC;AAEA,IAAMC,SAAS,GAAG,WAAlB;AAEA,OAAO,SAASC,iBAAT,GAA8B;AACpC,SAAO,UAACC,QAAD,EAAc;AACpBA,IAAAA,QAAQ,CAACJ,WAAW,EAAZ,CAAR;AAEA,WAAOL,GAAG,CAACU,IAAJ,GAAWC,IAAX,CAAgB,gBAAqC;AAAA,UAAlCC,UAAkC,QAAlCA,UAAkC;AAAA,UAAtBC,KAAsB,QAAtBA,KAAsB;AAAA,UAAfC,QAAe,QAAfA,QAAe;AAC3DL,MAAAA,QAAQ,CAACN,aAAa,CAACS,UAAD,CAAd,CAAR;AACAH,MAAAA,QAAQ,CAACR,QAAQ,CAACY,KAAD,CAAT,CAAR;AACAJ,MAAAA,QAAQ,CAACP,WAAW,CAACY,QAAD,CAAZ,CAAR;AACAL,MAAAA,QAAQ,CAACL,aAAa,CAACG,SAAD,CAAd,CAAR;AAEAE,MAAAA,QAAQ,CAACH,WAAW,EAAZ,CAAR;AACA,KAPM,CAAP;AAQA,GAXD;AAYA","sourcesContent":["import * as api from '../utils/api'\n\nimport { getPosts } from '../actions/posts'\nimport { getComments } from '../actions/comments'\nimport { getCategories } from '../actions/categories'\nimport { setAuthedUser } from '../actions/authedUser'\nimport { showLoading, hideLoading } from 'react-redux-loading'\n\nconst AUTHED_ID = 'willfelix'\n\nexport function handleInitialData () {\n\treturn (dispatch) => {\n\t\tdispatch(showLoading())\n\n\t\treturn api.init().then(({ categories, posts, comments }) => {\n\t\t\tdispatch(getCategories(categories))\n\t\t\tdispatch(getPosts(posts))\n\t\t\tdispatch(getComments(comments))\n\t\t\tdispatch(setAuthedUser(AUTHED_ID))\n\n\t\t\tdispatch(hideLoading())\n\t\t})\n\t}\n}"]},"metadata":{},"sourceType":"module"}