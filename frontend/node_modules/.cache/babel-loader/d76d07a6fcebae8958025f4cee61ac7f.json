{"ast":null,"code":"import _classCallCheck from \"/Users/willfelix/Documents/code/study/projects-udacity-nanodegree/readable/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/willfelix/Documents/code/study/projects-udacity-nanodegree/readable/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/willfelix/Documents/code/study/projects-udacity-nanodegree/readable/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/willfelix/Documents/code/study/projects-udacity-nanodegree/readable/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/willfelix/Documents/code/study/projects-udacity-nanodegree/readable/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/willfelix/Documents/code/study/projects-udacity-nanodegree/readable/frontend/src/pages/CommentFormPage.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { MdRemoveRedEye } from \"react-icons/md\";\nimport { handleUpdateComment } from '../actions/posts';\n\nvar CommentFormPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CommentFormPage, _Component);\n\n  function CommentFormPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CommentFormPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CommentFormPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      title: '',\n      body: ''\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var _this$state = _this.state,\n          title = _this$state.title,\n          body = _this$state.body;\n      var _this$props = _this.props,\n          dispatch = _this$props.dispatch,\n          id = _this$props.id,\n          category = _this$props.category;\n      var action = id ? handleUpdateComment(id, title, body) : handleCreateComment(title, body, category);\n      dispatch(action);\n\n      _this.setState(function () {\n        return {\n          title: '',\n          body: ''\n        };\n      });\n\n      _this.props.history.push(\"/\");\n    };\n\n    return _this;\n  }\n\n  _createClass(CommentFormPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateState();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      this.updateState(props);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          comment = _this$props2.comment,\n          category = _this$props2.category,\n          post = _this$props2.post;\n      var _this$state2 = this.state,\n          title = _this$state2.title,\n          body = _this$state2.body;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, \"Updating comment #\", comment.id), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }), React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, category), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/\".concat(category, \"/\").concat(id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn-show\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, \" \", React.createElement(MdRemoveRedEye, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }), \" \"))), React.createElement(\"form\", {\n        className: \"new-post\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: title,\n        placeholder: \"What's happening?\",\n        onChange: function onChange(e) {\n          return _this2.setState({\n            title: e.target.value\n          });\n        },\n        className: \"textfield\",\n        maxLength: 280,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }), React.createElement(\"textarea\", {\n        placeholder: \"Tell us more about this...\",\n        value: body,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            body: e.target.value\n          });\n        },\n        className: \"textarea\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn\",\n        type: \"submit\",\n        disabled: title === '' || body === '',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Submit\")));\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(props) {\n      var _ref = props || this.props,\n          post = _ref.post;\n\n      if (post) {\n        this.setState({\n          title: post.title,\n          body: post.body\n        });\n      }\n    }\n  }]);\n\n  return CommentFormPage;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(_ref2, props) {\n  var posts = _ref2.posts,\n      comments = _ref2.comments;\n  var _props$match$params = props.match.params,\n      comment = _props$match$params.comment,\n      post = _props$match$params.post,\n      category = _props$match$params.category;\n  return {\n    id: comment,\n    post: posts.find(function (p) {\n      return p.id === post;\n    }),\n    comment: comments.find(function (c) {\n      return c.id === comment;\n    }),\n    category: category\n  };\n};\n\nexport default connect(mapStateToProps)(CommentFormPage);","map":{"version":3,"sources":["/Users/willfelix/Documents/code/study/projects-udacity-nanodegree/readable/frontend/src/pages/CommentFormPage.js"],"names":["React","Component","connect","Link","MdRemoveRedEye","handleUpdateComment","CommentFormPage","state","title","body","handleSubmit","e","preventDefault","props","dispatch","id","category","action","handleCreateComment","setState","history","push","updateState","comment","post","target","value","mapStateToProps","posts","comments","match","params","find","p","c"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { MdRemoveRedEye } from \"react-icons/md\";\nimport { handleUpdateComment } from '../actions/posts'\n\nclass CommentFormPage extends Component {\n\tstate = {\n\t\ttitle: '',\n\t\tbody: ''\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateState();\n\t}\n\n\tcomponentWillReceiveProps (props) {\n\t\tthis.updateState(props);\n  \t}\n\n\trender() {\n\t\tconst { comment, category, post } = this.props;\n\t\tlet { title, body } = this.state;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h3 className='center'>Updating comment #{comment.id}</h3>\n\t\t\t\t<div>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<small>{category}</small>\n\t\t\t\t\t<hr />\n\n\t\t\t\t\t<Link to={`/${category}/${id}`}>\n\t\t\t\t\t\t<button className=\"btn-show\"> <MdRemoveRedEye /> </button>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<form className='new-post' onSubmit={this.handleSubmit}>\n\t\t\t\t\t<input type=\"text\" value={title}\n\t\t\t\t\t\tplaceholder=\"What's happening?\"\n\t\t\t\t\t\tonChange={ (e) => this.setState({ title: e.target.value }) }\n\t\t\t\t\t\tclassName='textfield'\n\t\t\t\t\t\tmaxLength={280} />\n\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tplaceholder=\"Tell us more about this...\"\n\t\t\t\t\t\tvalue={body}\n\t\t\t\t\t\tonChange={ (e) => this.setState({ body: e.target.value }) }\n\t\t\t\t\t\tclassName='textarea' />\n\n\t\t\t\t\t<button className='btn' type='submit' disabled={title === '' || body === ''}>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n\n\thandleSubmit = (e) => {\n\t\te.preventDefault()\n\n\t\tconst { title, body } = this.state\n\t\tconst { dispatch, id, category } = this.props\n\n\t\tconst action = id ? handleUpdateComment(id, title, body) : handleCreateComment(title, body, category);\n\t\tdispatch(action);\n\n\t\tthis.setState(() => ({ title: '', body: '' }))\n\t\tthis.props.history.push(`/`);\n\t}\n\n\tupdateState(props) {\n\t\tconst { postÂ } = props || this.props;\n\t\tif (post) {\n\t\t\tthis.setState({\n\t\t\t\ttitle: post.title,\n\t\t\t\tbody: post.body,\n\t\t\t})\n\t\t}\n\t}\n\t\n}\n\nconst mapStateToProps = ({ posts, comments }, props) => {\n\tconst { comment, post, category } = props.match.params\n\n\treturn {\n\t\tid: comment,\n\t\tpost: posts.find(p => p.id === post),\n\t\tcomment: comments.find(c => c.id === comment),\n\t\tcategory\n\t}\n}\n\nexport default connect(mapStateToProps)(CommentFormPage);"]},"metadata":{},"sourceType":"module"}