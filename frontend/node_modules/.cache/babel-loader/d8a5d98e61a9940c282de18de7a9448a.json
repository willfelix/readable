{"ast":null,"code":"import _classCallCheck from \"/Users/willfelix/Documents/code/study/projects-udacity-nanodegree/readable/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/willfelix/Documents/code/study/projects-udacity-nanodegree/readable/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/willfelix/Documents/code/study/projects-udacity-nanodegree/readable/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/willfelix/Documents/code/study/projects-udacity-nanodegree/readable/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/willfelix/Documents/code/study/projects-udacity-nanodegree/readable/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/willfelix/Documents/code/study/projects-udacity-nanodegree/readable/frontend/src/pages/PostFormPage.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { MdRemoveRedEye } from \"react-icons/md\";\nimport { handleCreatePost, handleUpdatePost } from '../actions/posts';\n\nvar PostFormPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PostFormPage, _Component);\n\n  function PostFormPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PostFormPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PostFormPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      title: '',\n      body: ''\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var _this$state = _this.state,\n          title = _this$state.title,\n          body = _this$state.body;\n      var _this$props = _this.props,\n          dispatch = _this$props.dispatch,\n          id = _this$props.id,\n          category = _this$props.category;\n      var action = id ? handleUpdatePost(id, title, body) : handleCreatePost(title, body, category);\n      dispatch(action);\n\n      _this.setState(function () {\n        return {\n          title: '',\n          body: ''\n        };\n      });\n\n      _this.props.history.push(\"/\");\n    };\n\n    return _this;\n  }\n\n  _createClass(PostFormPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateState();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      this.updateState(props);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          id = _this$props2.id,\n          category = _this$props2.category;\n      var headTitle = id ? \"Update post #\".concat(id) : \"Create post\";\n      var _this$state2 = this.state,\n          title = _this$state2.title,\n          body = _this$state2.body;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, headTitle), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }), React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, category), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/\".concat(category, \"/\").concat(id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn-show\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \" \", React.createElement(MdRemoveRedEye, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }), \" \"))), React.createElement(\"form\", {\n        className: \"new-post\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: title,\n        placeholder: \"What's happening?\",\n        onChange: function onChange(e) {\n          return _this2.setState({\n            title: e.target.value\n          });\n        },\n        className: \"textfield\",\n        maxLength: 280,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), React.createElement(\"textarea\", {\n        placeholder: \"Tell us more about this...\",\n        value: body,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            body: e.target.value\n          });\n        },\n        className: \"textarea\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn\",\n        type: \"submit\",\n        disabled: title === '' || body === '',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Submit\")));\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(props) {\n      var _ref = props || this.props,\n          post = _ref.post;\n\n      if (post) this.setState({\n        title: post.title,\n        body: post.body\n      });\n    }\n  }]);\n\n  return PostFormPage;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(store, props) {\n  var _props$match$params = props.match.params,\n      post = _props$match$params.post,\n      category = _props$match$params.category;\n  var postObj = Object.values(store.posts).find(function (p) {\n    return p.id === post;\n  });\n  return {\n    id: post,\n    post: postObj,\n    category: category\n  };\n};\n\nexport default connect(mapStateToProps)(PostFormPage);","map":{"version":3,"sources":["/Users/willfelix/Documents/code/study/projects-udacity-nanodegree/readable/frontend/src/pages/PostFormPage.js"],"names":["React","Component","connect","Link","MdRemoveRedEye","handleCreatePost","handleUpdatePost","PostFormPage","state","title","body","handleSubmit","e","preventDefault","props","dispatch","id","category","action","setState","history","push","updateState","headTitle","target","value","post","mapStateToProps","store","match","params","postObj","Object","values","posts","find","p"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { MdRemoveRedEye } from \"react-icons/md\";\nimport { handleCreatePost, handleUpdatePost } from '../actions/posts'\n\nclass PostFormPage extends Component {\n\tstate = {\n\t\ttitle: '',\n\t\tbody: ''\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateState();\n\t}\n\n\tcomponentWillReceiveProps (props) {\n\t\tthis.updateState(props);\n  \t}\n\n\trender() {\n\t\tconst { id, category } = this.props;\n\t\tconst headTitle = id ? `Update post #${id}` : \"Create post\";\n\t\tlet { title, body } = this.state;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h3 className='center'>{ headTitle }</h3>\n\t\t\t\t<div>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<small>{category}</small>\n\t\t\t\t\t<hr />\n\n\t\t\t\t\t<Link to={`/${category}/${id}`}>\n\t\t\t\t\t\t<button className=\"btn-show\"> <MdRemoveRedEye /> </button>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<form className='new-post' onSubmit={this.handleSubmit}>\n\t\t\t\t\t<input type=\"text\" value={title}\n\t\t\t\t\t\tplaceholder=\"What's happening?\"\n\t\t\t\t\t\tonChange={ (e) => this.setState({ title: e.target.value }) }\n\t\t\t\t\t\tclassName='textfield'\n\t\t\t\t\t\tmaxLength={280} />\n\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tplaceholder=\"Tell us more about this...\"\n\t\t\t\t\t\tvalue={body}\n\t\t\t\t\t\tonChange={ (e) => this.setState({ body: e.target.value }) }\n\t\t\t\t\t\tclassName='textarea' />\n\n\t\t\t\t\t<button className='btn' type='submit' disabled={title === '' || body === ''}>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n\n\thandleSubmit = (e) => {\n\t\te.preventDefault()\n\n\t\tconst { title, body } = this.state\n\t\tconst { dispatch, id, category } = this.props\n\n\t\tconst action = id ? handleUpdatePost(id, title, body) : handleCreatePost(title, body, category);\n\t\tdispatch(action);\n\n\t\tthis.setState(() => ({ title: '', body: '' }))\n\t\tthis.props.history.push(`/`);\n\t}\n\n\tupdateState(props) {\n\t\tconst { post } = props || this.props;\n\t\tif (post)\n\t\t\tthis.setState({\n\t\t\t\ttitle: post.title,\n\t\t\t\tbody: post.body,\n\t\t\t})\n\t}\n\t\n}\n\nconst mapStateToProps = (store, props) => {\n\tconst { post, category } = props.match.params\n\tconst postObj = Object.values(store.posts).find(p => p.id === post);\n\n\treturn {\n\t\tid: post,\n\t\tpost: postObj,\n\t\tcategory\n\t}\n}\n\nexport default connect(mapStateToProps)(PostFormPage);"]},"metadata":{},"sourceType":"module"}